@using Shop.BLL.Utils
@using Shop.Infrastructure.Enums
@model Shop.Common.ViewModels.ArtistDetailsViewModel

@{ ViewBag.Title = Model.Name; }
<div class="artist-details">
    <div class="inner">
        <img class="img-thumbnail" src="data:image;base64,@Convert.ToBase64String(Model.Photo)" style="max-height: 300px; max-width: 300px" onerror="src = '/img/defuserpic.png'"/>
        <p>@Html.DisplayFor(model => model.Biography, new { @readonly = "readonly", id = "ro-textarea" })</p>
    </div>
</div>

<div style="margin: 15px 38px; text-align: right">
    <div style="margin: 0; width: initial">
        <a class="btn btn-primary"
           href="@Url.Action("List", "Tracks", new { Area = "Content", id = Model.Id })">
            <span class="glyphicon glyphicon-list-alt"></span> Слушать
        </a>
        @{
            if (Request.IsAuthenticated)
            {
                var currentUser = ((CurrentUser)User);
                if (currentUser.IsInRole(UserRoles.Admin.ToString()))
                {
                    <a class="btn btn-primary" href="@Url.Action("Edit", "Artists", new { Area = "Management", id = Model.Id })">
                        <span class="glyphicon glyphicon-pencil"></span> Правка
                    </a>
                }
            }

        }

    </div>
</div>

@section scripts
{
    <script src="/Scripts/del-artist.js" type="text/javascript"></script>
}

@section cssStyles{
    <link href="~/Content/tracks.css" rel="stylesheet"/>
}