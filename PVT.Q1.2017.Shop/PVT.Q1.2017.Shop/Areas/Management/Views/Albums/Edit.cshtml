@model PVT.Q1._2017.Shop.Areas.Management.ViewModels.AlbumManagementViewModel
<body>
<h2 class="title" style="margin-top: 0; position: initial">Редактирование информации об альбоме</h2>

@using (Html.BeginForm("Edit", "Albums", FormMethod.Post, new { enctype = "multipart/form-data", name = "formreg", @class = "edit-form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Id)
    @Html.HiddenFor(m => m.Cover)

    <input type="hidden" name="@Html.NameFor(m => m.Artist.Id)" value="@Model.Artist.Id"/>
    <div class="main-center">
        <img id="artist-img" class="img-thumbnail" onclick="document.formreg.PostedCover.click()" onerror="this.src = '/img/defuserpic.png'" src="data:image;base64,@Convert.ToBase64String(Model.Cover)"/>
        <div class="details" style="width: 100%; display: block">
            <ul class="list-group" style="width: 500px">
                <li class="list-group-item">
                    @Html.EditorFor(m => m.ArtistName, new { htmlAttributes = new { @class = "form-control", placeholder = "Исполнитель" }, value = Model.ArtistName })
                </li>
                <li class="list-group-item">
                    @Html.EditorFor(m => m.Name, new { htmlAttributes = new { @class = "form-control", placeholder = "Название", type = "text", value = Model.Name } })
                </li>
                <li class="list-group-item">
                    @Html.EditorFor(m => m.ReleaseDate, new { htmlAttributes = new { @class = "form-control", placeholder = "Дата выпуска", type = "text", value = Model.ReleaseDate } })
                </li>
            </ul>
        </div>
    </div>
    <div style="margin-top: 15px">
        <a href="@Url.Action("List", "Albums", new { Area = "Content" })" class="btn btn-primary"><span class="glyphicon glyphicon-list-alt"> Cписок</span></a>
        <a class="btn btn-danger" href="javascript:document.forms[1].submit()"><span class="glyphicon glyphicon-remove"> Удалить</span></a>
        <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"> Сохранить</span></button>
    </div>
    <input type="file" id="file" name="PostedCover" style="display: none"/>
}
    
    @using (Html.BeginForm("Delete", "Albums", FormMethod.Post, new { name = "delete-form", id = "btn-delete-form" }))
    {
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.Id);
    }

<script src="/Scripts/jquery-3.2.0.min.js"></script>
<script src="/Scripts/openfile.dialog.js" type="text/javascript"></script>
<script src="/Scripts/file-change.js" type="text/javascript"></script>

</body>

@section cssStyles{
    <link href="/Styles/tracks.css" rel="stylesheet" type="text/css"/>
}