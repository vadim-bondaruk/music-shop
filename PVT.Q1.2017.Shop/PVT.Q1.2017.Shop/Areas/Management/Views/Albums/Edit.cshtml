@model Shop.Common.Models.AlbumManagementViewModel

<body>
<h2 class="title" style="margin-top: -25px">Редактирование информации об альбоме</h2>

@using (Html.BeginForm("Edit", "Albums", FormMethod.Post, new { enctype = "multipart/form-data", name = "formreg", @class = "edit-form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Id)
    @Html.HiddenFor(m => m.Cover)

    <input type="hidden" name="@Html.NameFor(m => m.Artist.Id)" value="@Model.Artist.Id"/>
    <div class="main-center">
        <div class="col-1" style="margin-top: 55px">
            <div class="col-2">
                <div class="vertical">
                    <div class="image-block">
                        <img id="artist-img" onclick="document.formreg.PostedCover.click()" onerror="this.src = '/img/defuserpic.png'" src="data:image;base64,@Convert.ToBase64String(Model.Cover)"/>
                    </div>
                    <div class="details" style="width: 100%; display: block">
                        <ul>
                            <li>
                                @Html.EditorFor(m => m.ArtistName, new { htmlAttributes = new { @class = "form-control", placeholder = "Исполнитель" }, value = Model.ArtistName })
                            </li>
                            <li>
                                @Html.EditorFor(m => m.Name, new { htmlAttributes = new { @class = "form-control", placeholder = "Название", type = "text", value = Model.Name } })
                            </li>
                            <li>
                                @Html.EditorFor(m => m.ReleaseDate, new { htmlAttributes = new { @class = "form-control", placeholder = "Дата выпуска", type = "text", value = Model.ReleaseDate } })
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <a  href="@Url.Action("List", "Albums", new {Area="Content"})" class="btn btn-default">Отмена</a>
            <button type="submit" class="btn btn-default">Сохранить</button>
        </div>

    </div>
    <input type="file" id="file" name="PostedCover" style="display: none"/>
}

<script src="/Scripts/jquery-3.2.0.min.js"></script>
<script src="/Scripts/openfile.dialog.js" type="text/javascript"></script>
<script src="/Scripts/file-change.js" type="text/javascript"></script>

</body>

@section cssStyles{
    <link href="/Styles/tracks.css" rel="stylesheet" type="text/css" />
}