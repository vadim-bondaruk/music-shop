@model Shop.Common.Models.ViewModels.ArtistManageViewModel

<body>
<h2 class="edit-artist-title">Редактирование информации об исполнителе</h2>
@using (Html.BeginForm("Update", "Artists", FormMethod.Post, new { enctype = "multipart/form-data", name = "formreg", @class = "edit-form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Id)
    @Html.HiddenFor(m => m.Photo)

    <div class="main-block">
        <div class="image-block">
            <img id="artist-img" src="data:image;base64,@Convert.ToBase64String(Model.Photo)"/>
            <span id="edit-image-link" onclick="document.formreg.UploadedImage.click()">Изменить</span>
        </div>
        <ul class="edit-artist-items">
            <li>
                @Html.EditorFor(m => m.Name, new { htmlAttributes = new { placeholder = "Исполнитель" }, value = Model.Name })
            </li>
            <li>
                @Html.EditorFor(m => m.Birthday, new { htmlAttributes = new { placeholder = "Дата рождения/основания", type = "text", value = Model.Birthday } })
            </li>
            <li>
                @Html.TextAreaFor(e => e.Biography, 10, 155, new { placeholder = "Биография", value = Model.Biography, id = "biography" })
            </li>
        </ul>
        <button type="submit" class="save-button">Сохранить</button>
    </div>

    <input type="file" id="file" name="UploadedImage" style="display: none"/>
    
}

<script src="/Scripts/jquery-3.2.0.min.js"></script>
<script src="/Scripts/openfile.dialog.js" type="text/javascript"></script>
<script src="/Scripts/image-change.js" type="text/javascript"></script>

</body>

@section EditArtist{
    <link href="/Areas/Management/Styles/edit-artist.css" rel="stylesheet" type="text/css"/>}