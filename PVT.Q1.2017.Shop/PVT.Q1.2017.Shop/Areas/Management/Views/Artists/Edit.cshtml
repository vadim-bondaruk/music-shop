@model PVT.Q1._2017.Shop.Areas.Management.ViewModels.ArtistManagementViewModel

<body>
<h2 class="title" style="position: initial; margin-top: 15px">Редактирование информации об исполнителе</h2>
@using (Html.BeginForm("Edit", "Artists", FormMethod.Post, new { enctype = "multipart/form-data", name = "formreg", @class = "edit-form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Id)
    @Html.HiddenFor(m => m.Photo)

    <div class="main-center">
        <div class="col-1">
            <div class="col-2">
                <div class="image-block">
                    <img id="artist-img" onclick="document.formreg.PostedPhoto.click()" style="margin-top: 25px;"onerror="this.src = '/img/defuserpic.png'" src="data:image;base64,@Convert.ToBase64String(Model.Photo)"/>
                </div>
                <div class="details">
                    <ul>
                        <li>
                            @Html.EditorFor(m => m.Name, new { htmlAttributes = new { @class = "form-control", placeholder = "Исполнитель" }, value = Model.Name })
                        </li>
                        <li>
                            @Html.EditorFor(m => m.Birthday, new { htmlAttributes = new { @class = "form-control", placeholder = "Дата рождения/основания", type = "text", value = Model.Birthday } })
                        </li>
                        <li class="bio-area">
                            @Html.TextAreaFor(e => e.Biography, new { @class = "form-control", placeholder = "Биография", value = Model.Biography })
                        </li>
                    </ul>
                </div>
                <div>
                    <a class="btn btn-primary" id="add-track" aria-label="Left Align" href="@Url.Action("New", "Tracks", new { area = "Management", id= Model.Id })">+ Трек</a>
                    <a class="btn btn-primary" id="add-album" aria-label="Left Align" href=@Url.Action("New", "Albums", new { area = "Management", id= Model.Id })>+ Альбом</a>
                    <button type="submit" class="btn btn-primary" id="btn-save" aria-label="Left Align">Сохранить</button>
                </div>
            </div>
        </div>
    </div>

    

    <input type="file" id="file" name="PostedPhoto" style="display: none" value=@Model.Photo/>
}

<script src="/Scripts/jquery-3.2.0.min.js"></script>
<script src="/Scripts/openfile.dialog.js" type="text/javascript"></script>
<script src="/Scripts/file-change.js" type="text/javascript"></script>

</body>

@section cssStyles{
    <link href="/Styles/tracks.css" rel="stylesheet" type="text/css"/>
}