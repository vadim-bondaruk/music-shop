@model PVT.Q1._2017.Shop.Areas.Management.ViewModels.ArtistManagementViewModel

<body>
<h2 class="edit-artist-title">Редактирование информации об исполнителе</h2>
@using (Html.BeginForm("Edit", "Artists", FormMethod.Post, new { enctype = "multipart/form-data", name = "formreg", @class = "edit-form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Id)
    @Html.HiddenFor(m => m.Photo)

    <div class="outer">
        <div class="main-block">
            <div class="image-block">
                <img id="artist-img" onclick="document.formreg.PostedPhoto.click()" src="data:image;base64,@Convert.ToBase64String(Model.Photo)"/>
            </div>
            <ul class="edit-artist-items">
                <li>
                    @Html.EditorFor(m => m.Name, new { htmlAttributes = new { placeholder = "Исполнитель" }, value = Model.Name })
                </li>
                <li>
                    @Html.EditorFor(m => m.Birthday, new { htmlAttributes = new { placeholder = "Дата рождения/основания", type = "text", value = Model.Birthday } })
                </li>
                <li class="bio">
                    @Html.TextAreaFor(e => e.Biography, 10, 155, new { placeholder = "Биография", value = Model.Biography, @class = "bio" })
                </li>
            </ul>
        </div>
        <button type="submit" class="save-button">Сохранить</button>
    </div>
    <input type="file" id="file" name="PostedPhoto" style="display: none" value=@Model.Photo/>
}

<script src="/Scripts/jquery-3.2.0.min.js"></script>
<script src="/Scripts/openfile.dialog.js" type="text/javascript"></script>
<script src="/Scripts/image-change.js" type="text/javascript"></script>

</body>

@section ArtistEdit{
<link href="~/Areas/Management/Styles/managment-common.css" rel="stylesheet" />
    <link href="/Areas/Management/Styles/artist-edit.css" rel="stylesheet" type="text/css"/>
    <link href="/Areas/Management/Styles/navpan.css" rel="stylesheet" type="text/css"/>
}